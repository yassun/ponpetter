<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Ponpetter</title>

  <link href="css/bootstrap.min.css" rel="stylesheet">
  <link href="jumbotron-narrow.css" rel="stylesheet">
  <link href="style.css" rel="stylesheet">

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/Chart.min.js"></script>
  <script>
    $(document).ready(function(){
        var data = {
          labels : <%= @graph[:labels] %>,
          datasets : [
            {
              fillColor : "rgba(0,180,255,0.1)",
              strokeColor : "#66ccff",
              pointColor : "#66ccff",
              pointStrokeColor : "#fff",
              data : <%= @graph[:values] %>
            }
          ]
        }

        var ctx = document.getElementById("myChart").getContext("2d");
        new Chart(ctx).Line(data,{
          scaleOverlay : false,
          scaleLineColor : "#ccc",
          scaleLineWidth : 1,
          scaleShowLabels : true,
          scaleLabel : "<%%=value%>",
          scaleFontFamily : "'Arial'",
          scaleFontSize : 11,
          scaleFontStyle : "normal",
          scaleFontColor : "#ccc",
          scaleShowGridLines : false,
          scaleGridLineColor : "#ccc",
          scaleGridLineWidth : 1,
          bezierCurve : false,
          pointDot : true,
          pointDotRadius : 6,
          pointDotStrokeWidth : 0,
          datasetStroke : true,
          datasetStrokeWidth : 3,
          datasetFill : true,
          animation : true,
          animationSteps : 60,
          animationEasing : "easeOutQuart",
          onAnimationComplete : null
        });
        });
  </script>

</head>


<body>
    <div class="container">
      <div class="header">
        <h3 class="text-muted">Ponpetter<span class="pull-right">by <a href="https://twitter.com/_yasuun_" target="_blank">@_Yasuun_</a></span></h3>
      </div>

      <div class="counter text-center">
        <h2>本日のポンペ数 <%= @ponpe_cnt %>人</h2>
      </div>

      <div id="chart" class="text-center">
          <canvas id="myChart" width="700" height="200"></canvas>
      </div>

      <div class="tweet-btn">
          <a href="https://twitter.com/intent/tweet?button_hashtag=ponpetter&text=%E3%81%8A%E8%85%B9%E7%97%9B%E3%81%84%E3%80%82" class="twitter-hashtag-button" data-lang="ja">Tweet #ponpetter</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
      </div>

      <div class="row tweets">

        <% @tweets.each do | tweet | %>
          <div class="col-lg-12 tweet">
            <span class="img"><img src="<%= tweet[:img] %>"></span>
            <span class="autor"><a href="https://twitter.com/<%= tweet[:autor] %>" target="_blank">@<%= tweet[:autor] %></a></span>
            <span class="body"><%= tweet[:text] %></span>
            <span class="time"><a href="https://twitter.com/<%= tweet[:autor] %>/status/<%= tweet[:id] %>" target="_blank"><%= tweet[:time] %></a></span>
          </div>
        <% end %>

      </div>

      <footer class="footer">
        <p></p>
      </footer>

    </div> <!-- /container -->
  </body>
</html>

